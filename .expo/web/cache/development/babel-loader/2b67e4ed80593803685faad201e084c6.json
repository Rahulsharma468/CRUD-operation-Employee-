{"ast":null,"code":"import { EMPLOYEE_UPDATE, EMPLOYEE_CREATE, EMPLOYEE_FETCH_SUCCESS } from \"./types\";\nimport firebase from 'firebase';\nimport { Actions } from 'react-native-router-flux';\nexport var employeeUpdate = function employeeUpdate(_ref) {\n  var prop = _ref.prop,\n      value = _ref.value;\n  return {\n    type: EMPLOYEE_UPDATE,\n    payload: {\n      prop: prop,\n      value: value\n    }\n  };\n};\nexport var employeeCreate = function employeeCreate(_ref2) {\n  var name = _ref2.name,\n      phone = _ref2.phone,\n      shift = _ref2.shift;\n\n  var _firebase$auth = firebase.auth(),\n      currentUser = _firebase$auth.currentUser;\n\n  return function (dispatch) {\n    firebase.database().ref(\"/users/\" + currentUser.uid + \"/employee\").push({\n      name: name,\n      phone: phone,\n      shift: shift\n    }).then(function () {\n      dispatch({\n        type: EMPLOYEE_CREATE\n      });\n      Actions.pop({\n        type: 'reset'\n      });\n    });\n  };\n};\nexport var employeeFetch = function employeeFetch() {\n  var _firebase$auth2 = firebase.auth(),\n      currentUser = _firebase$auth2.currentUser;\n\n  return function (dispatch) {\n    firebase.database().ref(\"/users/\" + currentUser.uid + \"/employee\").on('value', function (snapshot) {\n      dispatch({\n        type: EMPLOYEE_FETCH_SUCCESS,\n        payload: snapshot.val()\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/tanjiro255/Desktop/React/manager/src/actions/EmployeeActions.js"],"names":["EMPLOYEE_UPDATE","EMPLOYEE_CREATE","EMPLOYEE_FETCH_SUCCESS","firebase","Actions","employeeUpdate","prop","value","type","payload","employeeCreate","name","phone","shift","auth","currentUser","dispatch","database","ref","uid","push","then","pop","employeeFetch","on","snapshot","val"],"mappings":"AAAA,SAAQA,eAAR,EAA0BC,eAA1B,EAA4CC,sBAA5C;AAEA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,OAAT,QAAwB,0BAAxB;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAsB;AAAA,MAAnBC,IAAmB,QAAnBA,IAAmB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACnD,SAAO;AACNC,IAAAA,IAAI,EAAER,eADA;AAENS,IAAAA,OAAO,EAAE;AAAEH,MAAAA,IAAI,EAAJA,IAAF;AAASC,MAAAA,KAAK,EAALA;AAAT;AAFH,GAAP;AAIA,CALM;AAOP,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,QAA8B;AAAA,MAA3BC,IAA2B,SAA3BA,IAA2B;AAAA,MAApBC,KAAoB,SAApBA,KAAoB;AAAA,MAAZC,KAAY,SAAZA,KAAY;;AAAA,uBACnCV,QAAQ,CAACW,IAAT,EADmC;AAAA,MACnDC,WADmD,kBACnDA,WADmD;;AAE3D,SAAO,UAACC,QAAD,EAAc;AACrBb,IAAAA,QAAQ,CAACc,QAAT,GAAoBC,GAApB,aAAkCH,WAAW,CAACI,GAA9C,gBACCC,IADD,CACM;AAAET,MAAAA,IAAI,EAAJA,IAAF;AAASC,MAAAA,KAAK,EAALA,KAAT;AAAiBC,MAAAA,KAAK,EAALA;AAAjB,KADN,EAECQ,IAFD,CAEO,YAAM;AACZL,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAEP;AAAR,OAAD,CAAR;AACAG,MAAAA,OAAO,CAACkB,GAAR,CAAY;AAAEd,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACA,KALD;AAME,GAPF;AAQA,CAVM;AAYP,OAAO,IAAMe,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA,wBACVpB,QAAQ,CAACW,IAAT,EADU;AAAA,MAC1BC,WAD0B,mBAC1BA,WAD0B;;AAElC,SAAO,UAACC,QAAD,EAAc;AACpBb,IAAAA,QAAQ,CAACc,QAAT,GAAoBC,GAApB,aAAkCH,WAAW,CAACI,GAA9C,gBACCK,EADD,CACI,OADJ,EACc,UAAAC,QAAQ,EAAI;AACzBT,MAAAA,QAAQ,CAAC;AACRR,QAAAA,IAAI,EAAEN,sBADE;AAERO,QAAAA,OAAO,EAAEgB,QAAQ,CAACC,GAAT;AAFD,OAAD,CAAR;AAIA,KAND;AAOA,GARD;AASA,CAXM","sourcesContent":["import {EMPLOYEE_UPDATE , EMPLOYEE_CREATE , EMPLOYEE_FETCH_SUCCESS } from './types';\n\nimport firebase from 'firebase';\nimport { Actions } from 'react-native-router-flux';\n\nexport const employeeUpdate = ({ prop , value }) => {\n\treturn {\n\t\ttype: EMPLOYEE_UPDATE,\n\t\tpayload: { prop , value }\n\t};\n};\n\nexport const employeeCreate = ({ name , phone , shift }) => {\n\tconst { currentUser } = firebase.auth();\n\treturn (dispatch) => {\n\tfirebase.database().ref(`/users/${currentUser.uid}/employee`)\n\t.push({ name , phone , shift })\n\t.then( () => {\n\t\tdispatch({ type: EMPLOYEE_CREATE });\n\t\tActions.pop({ type: 'reset' })\n\t});\n  };\n};\n\nexport const employeeFetch = () => {\n\tconst { currentUser } = firebase.auth();\n\treturn (dispatch) => {\n\t\tfirebase.database().ref(`/users/${currentUser.uid}/employee`)\n\t\t.on('value' , snapshot => {\n\t\t\tdispatch({\n\t\t\t\ttype: EMPLOYEE_FETCH_SUCCESS,\n\t\t\t\tpayload: snapshot.val()\n\t\t\t});\n\t\t});\n\t};\n};"]},"metadata":{},"sourceType":"module"}